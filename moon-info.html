<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Shop on Line</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="bootstrap/bootstrap.min.css">

<style>
    /* ===== Layout & General ===== */
    body { padding-right: 0px; }
    @media (max-width: 768px) { body { padding-right: 0; } }

    .card-img-top { height: 180px; object-fit: cover; width: 100%; }

    #cart-details {
        background: #f8f9fa;
        padding: 15px;
        border: 1px solid #ddd;
        border-radius: 8px;
        margin-bottom: 20px;
    }

    #cart-buttons { display: flex; justify-content: left; gap: 15px; margin-top: 10px; }
    .card-body-top { text-align: center; }

    /* ===== Quantity Button Design (BIGGER â€” All Screens) ===== */
    .qty-box {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 18px;
        margin-bottom: 15px;
    }

    .qty-btn {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        border: none;
        background-color: #0d6efd;
        color: white;
        font-size: 38px;
        font-weight: bold;
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        transition: 0.15s;
    }

    .qty-btn:active { transform: scale(0.98); }
    .qty-btn:hover { background-color: #0b5ed7; transform: scale(1.05); }

    .qty-input {
        width: 110px;
        height: 60px;
        font-size: 34px;
        font-weight: bold;
        text-align: center;
        border-radius: 8px;
    }

    .btn-equal { font-size: 30px; font-weight: bold; width: 130px; height: 60px; }
    .btn-equal-head { font-size: 30px; font-weight: bold; width: 180px; height: 60px; }

    .set-txt-font { font-size: 30px; font-weight: bold; }

    .cart-title { font-weight: bold; font-size: 36px; }
    .cart-items li { font-weight: bold; font-size: 20px; } /* smaller than before for fit */
    .cart-total { font-weight: bold; font-size: 24px; }

    /* Mobile boost */
    @media (max-width: 480px) {
        .qty-btn { width: 70px !important; height: 70px !important; font-size: 45px !important; }
        .qty-input { width: 130px !important; height: 70px !important; font-size: 40px !important; }
        .qty-box { gap: 22px; }
        .set-txt-font { font-size: 22px; } /* scale down product titles on tiny screens */
    }

    /* Small visual tweak for cart list */
    #cart-items .list-group-item { font-size: 18px; padding: .5rem 1rem; }
    .detail-btn { min-width: 100px; } /* detail button width */
</style>

<script>
/* ====== Cart logic ====== */
let cart = [];

/* Helper: find item index by name */
function findCartIndex(name) {
    return cart.findIndex(it => it.name === name);
}

/* Called after any change to cart to refresh UI */
function updateCartUI(){
    let list = document.getElementById("cart-items");
    let totalBill = 0;
    list.innerHTML = "";

    if(cart.length === 0) {
        list.innerHTML = '<li class="list-group-item">Cart is empty</li>';
    } else {
        cart.forEach(item=>{
            totalBill += item.price * item.qty;
            list.innerHTML += `<li class="list-group-item d-flex justify-content-between align-items-center">
                <div><strong>${item.name}</strong> &nbsp; x${item.qty}</div>
                <div>
                    <strong>$${(item.price*item.qty).toFixed(2)}</strong>
                    <button class="btn btn-sm btn-danger ms-2" onclick="removeFromCart('${escapeHtml(item.name)}')">X</button>
                </div>
            </li>`;
        });
    }

    document.getElementById("cart-total").innerText = totalBill.toFixed(2);
}

/* Remove item by name */
function removeFromCart(productName){
    cart = cart.filter(i => i.name !== productName);
    // also set input back to 0 if it exists
    let input = document.querySelector(`[data-product="${cssEscape(productName)}"]`);
    if(input) input.value = 0;
    updateCartUI();
}

/* Clear cart */
function clearCart(){
    cart = [];
    // reset all qty inputs to 0
    document.querySelectorAll('.qty-input').forEach(inp => inp.value = 0);
    updateCartUI();
}

/* Order via WhatsApp */
function orderViaWhatsAppCart(){
    if(cart.length==0){ alert("Cart is empty"); return; }
    let phone="923028345376";
    let msg="I'm interested in:\n\n";
    let total=0;

    cart.forEach(item=>{
        msg+=`${item.name} x${item.qty} = $${(item.price*item.qty).toFixed(2)}\n`;
        total += item.price*item.qty;
    });

    msg+=`\nTotal Amount: $${total.toFixed(2)}\n\nKindly confirm order via JazzCash or EasyPaisa. Delivery in 2 days.`;
    let url = "https://wa.me/"+phone+"?text="+encodeURIComponent(msg);
    window.open(url,'_blank');
}

/* ====== Quantity change handlers (auto add/remove) ====== */

/* increaseQty: increments the readonly input and updates cart */
function increaseQty(inputId, productName, price) {
    const input = document.getElementById(inputId);
    let current = parseInt(input.value || 0);
    current = current + 1;
    input.value = current;
    syncCartWithInput(productName, inputId, price);
}

/* decreaseQty: decrements (min 0). If reaches 0, item removed from cart */
function decreaseQty(inputId, productName, price) {
    const input = document.getElementById(inputId);
    let current = parseInt(input.value || 0);
    if (current <= 0) return;
    current = current - 1;
    input.value = current;
    syncCartWithInput(productName, inputId, price);
}

/* syncCartWithInput: read qty from input and update cart accordingly */
function syncCartWithInput(productName, inputId, price) {
    const qty = parseInt(document.getElementById(inputId).value || 0);

    const idx = findCartIndex(productName);
    if (qty <= 0) {
        // remove if exists
        if (idx !== -1) {
            cart.splice(idx, 1);
        }
    } else {
        if (idx !== -1) {
            cart[idx].qty = qty;
            cart[idx].total = cart[idx].price * qty;
        } else {
            cart.push({ name: productName, qty: qty, price: price, total: price*qty });
        }
    }
    updateCartUI();
}

/* Escape helpers to avoid broken markup for names with quotes */
function escapeHtml(text) {
  return text.replace(/'/g, "\\'").replace(/"/g, '&quot;');
}
/* cssEscape for data selectors: replace problematic chars with underscore */
function cssEscape(text) {
  return text.replace(/[^a-zA-Z0-9\-_]/g, '_');
}

/* Show product details in new window */
const productDetails = {
    "Elegant Leather Purse": "This purse is leather type and durable with one year guarantee. No return after sale.",
    "Chocolate Box": "Delicious assorted chocolates. Best before 6 months. Store in cool place.",
    "Peanut Chocolate Box": "Tasty peanut chocolates, store in cool & dry place. Consume within 6 months.",
    "ABC Chocolate Box": "Assorted chocolates for gifting. Keep away from heat.",
    "XYZ Chocolate Box": "Premium chocolate selection. Best before 6 months.",
    "Spicy Seekh Kabab": "Spicy and flavorful kababs made from fresh ingredients. Serve hot.",
    "Shami Kabab": "Soft and juicy kababs made with traditional spices. Serve hot.",
    "Shami Spicy Kabab": "Spicy Shami kababs, perfect for BBQ lovers. Serve hot."
};

function showDetail(productName) {
    const details = productDetails[productName] || "No details available.";
    let detailWindow = window.open("", "_blank", "width=800,height=450");
    detailWindow.document.open();
    detailWindow.document.write(`
        <!DOCTYPE html>
        <html>
        <head>
            <title>${productName}</title>
            <meta name="viewport" content="width=device-width, initial-scale=1">
            <link rel="stylesheet" href="bootstrap/bootstrap.min.css">
            <style>
                body { margin: 0; padding: 25px; font-size: 18px; line-height: 1.6; font-family: Arial, sans-serif; }
                h1 { text-align: center; font-size: 28px; margin-bottom: 10px; text-decoration: underline; }
                p { font-size: 18px; text-align: justify; }
                .close-btn { display:block; width:100%; margin-top:20px; padding:12px; font-size:20px; background:#6c757d;color:white;border:none;border-radius:6px; }
            </style>
        </head>
        <body>
            <h1>${productName}</h1>
            <p>${details}</p>
            <button class="close-btn" onclick="window.close()">Close</button>
        </body>
        </html>
    `);
    detailWindow.document.close();
}

window.onload = function(){
    // ensure sections default
    showSection('purses-section');
    updateCartUI();
};

/* Section switching */
function showSection(sectionId){
    ['purses-section','chocolates-section','kabab-section'].forEach(id=>{
        const el = document.getElementById(id);
        if(el) el.style.display = 'none';
    });
    const target = document.getElementById(sectionId);
    if(target) target.style.display = 'block';
}
</script>
</head>
<body>
<div class="container mt-3">

<!-- Cart Details at Top -->
<div id="cart-details">
    <h2 class="cart-title">ðŸ›’ Here Is Your Cart</h2>
    <ul id="cart-items" class="cart-items list-group mb-2"></ul>
    <h3 class="cart-total">Total: $<span id="cart-total">0.00</span></h3>
    <div id="cart-buttons">
        <button class="btn btn-danger btn-sm btn-equal-head" onclick="clearCart()">Clear Cart</button>
        <button class="btn btn-success btn-sm btn-equal-head" onclick="orderViaWhatsAppCart()">WhatsApp Order</button>
    </div>
</div>

<h1 class="text-center mb-4">SHOPING ON LINE</h1>

<div class="text-center mb-4">
    <button class="btn btn-primary mx-2 btn-equal-head" onclick="showSection('chocolates-section')">Chocolates</button>
    <button class="btn btn-danger mx-2 btn-equal-head"  onclick="showSection('kabab-section')">Kabab</button>
    <button class="btn btn-success mx-2 btn-equal-head" onclick="showSection('purses-section')">Purses</button>
</div>

<!-- Purses Section -->
<div id="purses-section" style="display:none;">
    <div class="row g-4 mb-4">
        <!-- Elegant Leather Purse -->
        <div class="col-12 col-md-6 col-lg-4">
            <div class="card h-100 text-center">
                <img src="images/purse1.jpg" class="card-img-top" alt="Purse">
                <div class="card-body card-body-top">
                    <h5 class="card-title set-txt-font">Elegant Leather Purse</h5>
                    <p class="card-text set-txt-font">$49.99</p>

                    <div class="qty-box set-txt-font">
                        <button class="qty-btn" onclick="decreaseQty('qty1','Elegant Leather Purse',49.99)">âˆ’</button>

                        <!-- default value 0, readOnly input, data-product attr for lookup -->
                        <input type="number" id="qty1" class="form-control qty-input" value="0" min="0" readonly data-product="Elegant_Leather_Purse">

                        <button class="qty-btn" onclick="increaseQty('qty1','Elegant Leather Purse',49.99)">+</button>
                    </div>
                </div>

                <div class="card-body text-center">
                    <!-- Add to Cart removed as requested -->
                    <button class="btn btn-danger mb-2 btn-equal" onclick="removeFromCart('Elegant Leather Purse')">Clear</button>
                    <button class="btn btn-info mb-2 btn-equal detail-btn" onclick="showDetail('Elegant Leather Purse')">Detail</button>
                </div>
            </div>
        </div>

        <!-- Add more purse items if needed (copy above block, change ids & names & prices) -->
    </div>
</div>
<!-- Chocolates Section -->
<div id="chocolates-section" style="display:none;">
    <div class="row g-4 mb-4">
        <!-- Chocolate Box -->
        <div class="col-12 col-md-6 col-lg-4">
            <div class="card h-100 text-center">
                <img src="images/choco1.jpeg" class="card-img-top" alt="Chocolate">
                <div class="card-body card-body-top">
                    <h5 class="card-title set-txt-font">Chocolate Box</h5>
                    <p class="card-text set-txt-font">$19.99</p>

                    <div class="qty-box set-txt-font">
                        <button class="qty-btn" onclick="decreaseQty('qtyChoco1','Chocolate Box',19.99)">âˆ’</button>
                        <input type="number" id="qtyChoco1" class="form-control qty-input" value="0" min="0" readonly data-product="Chocolate_Box">
                        <button class="qty-btn" onclick="increaseQty('qtyChoco1','Chocolate Box',19.99)">+</button>
                    </div>
                </div>
                <div class="card-body text-center">
                    <button class="btn btn-danger mb-2 btn-equal" onclick="removeFromCart('Chocolate Box')">Clear</button>
                    <button class="btn btn-info mb-2 btn-equal detail-btn" onclick="showDetail('Chocolate Box')">Detail</button>
                </div>
            </div>
        </div>

        <!-- Peanut Chocolate Box -->
        <div class="col-12 col-md-6 col-lg-4">
            <div class="card h-100 text-center">
                <img src="images/choco2.jpeg" class="card-img-top" alt="Peanut Chocolate Box">
                <div class="card-body card-body-top">
                    <h5 class="card-title set-txt-font">Peanut Chocolate Box</h5>
                    <p class="card-text set-txt-font">$20.99</p>

                    <div class="qty-box set-txt-font">
                        <button class="qty-btn" onclick="decreaseQty('qtyChoco2','Peanut Chocolate Box',20.99)">âˆ’</button>
                        <input type="number" id="qtyChoco2" class="form-control qty-input" value="0" min="0" readonly data-product="Peanut_Chocolate_Box">
                        <button class="qty-btn" onclick="increaseQty('qtyChoco2','Peanut Chocolate Box',20.99)">+</button>
                    </div>
                </div>
                <div class="card-body text-center">
                    <button class="btn btn-danger mb-2 btn-equal" onclick="removeFromCart('Peanut Chocolate Box')">Clear</button>
                    <button class="btn btn-info mb-2 btn-equal detail-btn" onclick="showDetail('Peanut Chocolate Box')">Detail</button>
                </div>
            </div>
        </div>

        <!-- ABC Chocolate Box -->
        <div class="col-12 col-md-6 col-lg-4">
            <div class="card h-100 text-center">
                <img src="images/choco3.jpeg" class="card-img-top" alt="ABC Chocolate Box">
                <div class="card-body card-body-top">
                    <h5 class="card-title set-txt-font">ABC Chocolate Box</h5>
                    <p class="card-text set-txt-font">$20.99</p>

                    <div class="qty-box set-txt-font">
                        <button class="qty-btn" onclick="decreaseQty('qtyChoco3','ABC Chocolate Box',20.99)">âˆ’</button>
                        <input type="number" id="qtyChoco3" class="form-control qty-input" value="0" min="0" readonly data-product="ABC_Chocolate_Box">
                        <button class="qty-btn" onclick="increaseQty('qtyChoco3','ABC Chocolate Box',20.99)">+</button>
                    </div>
                </div>
                <div class="card-body text-center">
                    <button class="btn btn-danger mb-2 btn-equal" onclick="removeFromCart('ABC Chocolate Box')">Clear</button>
                    <button class="btn btn-info mb-2 btn-equal detail-btn" onclick="showDetail('ABC Chocolate Box')">Detail</button>
                </div>
            </div>
        </div>

        <!-- XYZ Chocolate Box -->
        <div class="col-12 col-md-6 col-lg-4">
            <div class="card h-100 text-center">
                <img src="images/choco3.jpeg" class="card-img-top" alt="XYZ Chocolate Box">
                <div class="card-body card-body-top">
                    <h5 class="card-title set-txt-font">XYZ Chocolate Box</h5>
                    <p class="card-text set-txt-font">$20.99</p>

                    <div class="qty-box set-txt-font">
                        <button class="qty-btn" onclick="decreaseQty('qtyChoco4','XYZ Chocolate Box',20.99)">âˆ’</button>
                        <input type="number" id="qtyChoco4" class="form-control qty-input" value="0" min="0" readonly data-product="XYZ_Chocolate_Box">
                        <button class="qty-btn" onclick="increaseQty('qtyChoco4','XYZ Chocolate Box',20.99)">+</button>
                    </div>
                </div>
                <div class="card-body text-center">
                    <button class="btn btn-danger mb-2 btn-equal" onclick="removeFromCart('XYZ Chocolate Box')">Clear</button>
                    <button class="btn btn-info mb-2 btn-equal detail-btn" onclick="showDetail('XYZ Chocolate Box')">Detail</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Kabab Section -->
<div id="kabab-section" style="display:none;">
    <div class="row g-4 mb-4">
        <!-- Spicy Seekh Kabab -->
        <div class="col-12 col-md-6 col-lg-4">
            <div class="card h-100 text-center">
                <img src="images/kabab1.jpeg" class="card-img-top" alt="Spicy Seekh Kabab">
                <div class="card-body card-body-top">
                    <h5 class="card-title set-txt-font">Spicy Seekh Kabab</h5>
                    <p class="card-text set-txt-font">$29.99</p>

                    <div class="qty-box set-txt-font">
                        <button class="qty-btn" onclick="decreaseQty('qtyKabab1','Spicy Seekh Kabab',29.99)">âˆ’</button>
                        <input type="number" id="qtyKabab1" class="form-control qty-input" value="0" min="0" readonly data-product="Spicy_Seekh_Kabab">
                        <button class="qty-btn" onclick="increaseQty('qtyKabab1','Spicy Seekh Kabab',29.99)">+</button>
                    </div>
                </div>
                <div class="card-body text-center">
                    <button class="btn btn-danger mb-2 btn-equal" onclick="removeFromCart('Spicy Seekh Kabab')">Clear</button>
                    <button class="btn btn-info mb-2 btn-equal detail-btn" onclick="showDetail('Spicy Seekh Kabab')">Detail</button>
                </div>
            </div>
        </div>

        <!-- Shami Kabab -->
        <div class="col-12 col-md-6 col-lg-4">
            <div class="card h-100 text-center">
                <img src="images/kabab1.jpeg" class="card-img-top" alt="Shami Kabab">
                <div class="card-body card-body-top">
                    <h5 class="card-title set-txt-font">Shami Kabab</h5>
                    <p class="card-text set-txt-font">$29.99</p>

                    <div class="qty-box set-txt-font">
                        <button class="qty-btn" onclick="decreaseQty('qtyKabab2','Shami Kabab',29.99)">âˆ’</button>
                        <input type="number" id="qtyKabab2" class="form-control qty-input" value="0" min="0" readonly data-product="Shami_Kabab">
                        <button class="qty-btn" onclick="increaseQty('qtyKabab2','Shami Kabab',29.99)">+</button>
                    </div>
                </div>
                <div class="card-body text-center">
                    <button class="btn btn-danger mb-2 btn-equal" onclick="removeFromCart('Shami Kabab')">Clear</button>
                    <button class="btn btn-info mb-2 btn-equal detail-btn" onclick="showDetail('Shami Kabab')">Detail</button>
                </div>
            </div>
        </div>

        <!-- Shami Spicy Kabab -->
        <div class="col-12 col-md-6 col-lg-4">
            <div class="card h-100 text-center">
                <img src="images/kabab1.jpeg" class="card-img-top" alt="Shami Spicy Kabab">
                <div class="card-body card-body-top">
                    <h5 class="card-title set-txt-font">Shami Spicy Kabab</h5>
                    <p class="card-text set-txt-font">$29.99</p>

                    <div class="qty-box set-txt-font">
                        <button class="qty-btn" onclick="decreaseQty('qtyKabab3','Shami Spicy Kabab',29.99)">âˆ’</button>
                        <input type="number" id="qtyKabab3" class="form-control qty-input" value="0" min="0" readonly data-product="Shami_Spicy_Kabab">
                        <button class="qty-btn" onclick="increaseQty('qtyKabab3','Shami Spicy Kabab',29.99)">+</button>
                    </div>
                </div>
                <div class="card-body text-center">
                    <button class="btn btn-danger mb-2 btn-equal" onclick="removeFromCart('Shami Spicy Kabab')">Clear</button>
                    <button class="btn btn-info mb-2 btn-equal detail-btn" onclick="showDetail('Shami Spicy Kabab')">Detail</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- QR Section -->
<div class="text-center mt-3 mb-3">
    <h3>Scan to Open Website</h3>
    <img src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=https://siddiqui54321.github.io/myweb/moon-info.html" 
         alt="QR Code" class="img-fluid" />
</div>

</div> <!-- /.container -->

</body>
</html>
